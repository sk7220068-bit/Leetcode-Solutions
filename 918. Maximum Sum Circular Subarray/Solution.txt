class Solution {
    public int maxSubarraySumCircular(int[] nums) {
        int maxsum = Integer.MIN_VALUE;
        int currsum = 0;
        for(int i =0;i<nums.length;i++){
            currsum = Math.max(nums[i],currsum+nums[i]);
            maxsum = Math.max(currsum,maxsum);
        }
        int currmin = 0;
        int minsum =Integer.MAX_VALUE;
        for(int i =0;i<nums.length;i++){
            currmin = Math.min(nums[i],currmin+nums[i]);
            minsum = Math.min(currmin,minsum);
        }
        int totalsum = 0;
        for(int i =0;i<nums.length;i++){
            totalsum+=nums[i];
        }
        if(maxsum<0){
            return maxsum;
        }
        return Math.max(maxsum,totalsum-minsum);
    }
}